Mon Apr  4 21:00:38 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Use BUILD_XML to figure out whether to build the XML
	library, and use BUILD_STATIC_EXTENSIONS to figure out whether
	to install the libraries.
	* *.c: If BUILD_STATIC_EXTENSIONS is defined, then rename the
	initialization function from dlload to dlload_<library name>.
	* readfile.c: Make do_readfile scope static.

Thu Mar 31 17:27:01 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* xml_puller.c (XML_PullerCreate): Should not declare an extern function
	in the middle of a code block (gcc 2.95 cannot compile this).  Problem
	solved by enclosing this code block in curly braces.

Thu Mar 31 16:40:02 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Always build the xml library (so that top-level make
	can link it statically).  But install the shared library only
	when configured without --enable-xml.  Also, check the return
	code from xml-conv-enc.
	* .cvsignore: Add generated files xml_enc_registry.inc,
	xml_enc_tables.inc, and xml_enc_converted.touch.

Wed Mar 30 17:31:15 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* xml_puller.c (flush_pending): Return -1 for failure, 0 for success.
	If an iconv error occurs, fix the error row, column, and length,
	otherwise it will have the info for the subsequent event that
	is causing the flush.
	(token_get): If flush_pending fails, return NULL immediately.
	(add_pending): If current status indicates an error, do not do any
	processing.  Also, if flush_pending fails, return immediately.
	
Wed Mar 30 16:57:24 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Get encoding files to build properly.

Tue Mar 29 21:07:33 UTC 2005 Juergen Kahrs <jkahrs@users.sourceforge.net>

	Inserted an invocation of the script xml-conv-enc which
	takes all encodings and converts them to new files
	xml_enc_registry.inc and xml_enc_tables.inc. These new
	files are used (and compiled into) xml_enc_handler.c.

	* Makefile.am: New rule xml_enc_handler.c and changed rule libxml_la_SOURCES.

Tue Mar 29 20:43:59 UTC 2005 Juergen Kahrs <jkahrs@users.sourceforge.net>

	Added some files which are needed to convert character encodings
	which Expat does not know. See extension/encodings/README.

	* encoding.h:         A header file needed for binary encoding. 
	* encodings:          A directory containing descriptions of the encodings.
	* xml-conv-enc:       A script which converts encodings into C source files.
	* xml_enc_handler.c:  A C source file used by the xml_puller.

Mon Mar 28 22:19:34 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* fork.c (do_fork): Check whether PROCINFO_node is NULL before updating.

Mon Mar 28 21:32:57 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* xml_puller.[ch], xml_interface.c: Added (moved from toplevel
	directory).

Mon Mar 28 20:37:26 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: If BUILD_XMLGAWK is defined, do not compile xml.so
	as a shared library extension, since it is being compiled into
	the main gawk binary.

Mon Mar 28 19:16:16 UTC 2005 Juergen Kahrs <jkahrs@users.sourceforge.net>

	* Makefile.am: Added -I$(top_srcdir)/intl to INCLUDE for MaxOSX.

Mon Mar 28 18:15:48 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* steps: Rename dl as zaxxon.
	* filefuncs.c: Do not include sys/sysmacros.h.

Mon Mar 28 17:44:40 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Rename libdl to libzaxxon to avoid confusion
	with system library libdl.  Do not install test libraries.
	* dl.c: Remove (renamed to zaxxon.c).
	* zaxxon.c: Add (renamed from dl.c).

Mon Mar 28 03:42:38 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Oops, should really use INSTALL_PROGRAM,
	that way "make install-strip" will work.  Add message showing
	where each library is being installed.

Mon Mar 28 03:27:55 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Use $(INSTALL) instead of $(install_sh) -c.
	
Mon Mar 28 02:01:40 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Add hooks to choose which libraries to
	install.  For now, install them all.

Mon Mar 28 01:53:35 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Use a custom install rule to install only
	the shared libraries with the names that we want.  I'm not sure
	whether this is 100% portable...

Sun Mar 27 20:52:13 UTC 2005 Juergen Kahrs <jkahrs@users.sourceforge.net>

	* Makefile.am: Now all extensions are compiled to shared libs.

Sun Mar 27 20:23:07 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: Fix installation directory, and remove -lexpat
	dependency.


Sun Mar 27 17:02:14 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>
	
	* Makefile: Removed.  Now using automake/libtool.

Sun Mar 27 17:02:14 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* Makefile.am: First pass at libtool Makefile.am.

Sun Mar 27 16:59:44 UTC 2005 Andrew J. Schorr <ajschorr@users.sourceforge.net>

	* .cvsignore: New file.
